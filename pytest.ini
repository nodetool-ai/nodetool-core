[pytest]
norecursedirs = .git .github .pytest_cache .vscode .venv __pycache__ examples

filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
    ignore::UserWarning
    ignore::RuntimeWarning
    ignore::FutureWarning
    ignore::ImportWarning
    ignore::ResourceWarning

testpaths = tests
pythonpath = src

# Test markers for categorization
markers =
    unit: Fast unit tests
    integration: Integration tests with database
    slow: Slow tests (>1s)
    api: API endpoint tests
    workflow: Workflow execution tests
    no_setup: Skip database setup/teardown
    xdist_group: Group tests to run sequentially when using pytest-xdist

# Asyncio configuration
asyncio_mode = auto
asyncio_default_fixture_loop_scope = session

# Add timeout to prevent hanging tests
timeout = 300
timeout_method = thread

# Parallel execution (use 'auto' to match CPU count, or specify number like '-n 4')
addopts = --import-mode=importlib
# addopts = --import-mode=importlib -n auto
